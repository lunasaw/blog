(window.webpackJsonp=window.webpackJsonp||[]).push([[161],{752:function(t,s,a){"use strict";a.r(s);var e=a(7),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"å¦‚ä½•åœ¨-github-actions-æ—¶ä½¿ç”¨-secretkey"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¦‚ä½•åœ¨-github-actions-æ—¶ä½¿ç”¨-secretkey"}},[t._v("#")]),t._v(" å¦‚ä½•åœ¨ GitHub Actions æ—¶ä½¿ç”¨ secretKey")]),t._v(" "),a("h3",{attrs:{id:"é—®é¢˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#é—®é¢˜"}},[t._v("#")]),t._v(" é—®é¢˜")]),t._v(" "),a("p",[t._v("å½“æˆ‘å‚è€ƒ"),a("a",{attrs:{href:"https://www.lasy.site/views/%E5%89%8D%E7%AB%AF/%E4%BD%BF%E7%94%A8%20GitHub%20Actions%20%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2%E5%8D%9A%E5%AE%A2.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("è¿™ç¯‡"),a("OutboundLink")],1),t._v("ï¼Œä½¿ç”¨ "),a("code",[t._v("Github Action")]),t._v(" è‡ªåŠ¨éƒ¨ç½²çš„æ—¶å€™å‘ç°è¦ä½¿ç”¨ Secret Key å»ä½¿ç”¨ "),a("code",[t._v("VSSUE")]),t._v(" è¯„è®ºåŠŸèƒ½ï¼Œæˆ‘å°±çŠ¯æ„äº†ã€‚")]),t._v(" "),a("p",[t._v("ç›´æ¥å†™åœ¨ "),a("code",[t._v("config")]),t._v(" é‡Œè™½è¯´å¹¶æ²¡æœ‰è°ä¼šç›—ç”¨ï¼ˆå§ ğŸ˜ƒï¼‰ï¼Œä½†æ˜¾ç„¶ä¸å¤ªå®‰å…¨ã€‚è¿™æ˜¯åŸ workflow æ–‡ä»¶ä¸­ä¸‹é¢è¿™æ®µå¯å‘äº†æˆ‘ã€‚å…¶ä»–çš„å˜é‡éš¾é“ä¹Ÿå¯ä»¥è¿™æ ·ä¼ åˆ°æœåŠ¡å™¨ä¸Šï¼Ÿ")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("with")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ACCESS_TOKEN")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" secrets.ACCESS_TOKEN "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"è§£å†³æ–¹æ³•"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è§£å†³æ–¹æ³•"}},[t._v("#")]),t._v(" è§£å†³æ–¹æ³•")]),t._v(" "),a("p",[t._v("æœç„¶ "),a("code",[t._v("Github")]),t._v(" æ—©å°±å¸®æˆ‘ä»¬æƒ³å¥½äº†è§£å†³åŠæ³•ã€‚")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://help.github.com/en/actions/configuring-and-managing-workflows/creating-and-storing-encrypted-secrets",target:"_blank",rel:"noopener noreferrer"}},[t._v("Creating and storing encrypted secrets"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("ç®€å•è¯´å°±æ˜¯åœ¨å¯¹åº” repo çš„ "),a("code",[t._v("Secrets")]),t._v(" åŒºåŸŸé‡Œè¾“å…¥ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/470919/6d81c510-7f25-a039-5087-f07854d6d75e.png",alt:"Screenshot 2020-03-23 13.08.05.png"}})]),t._v(" "),a("p",[a("strong",[t._v("æ³¨æ„âš ï¸")]),t._v("ï¼šä¸Šå›¾ä¸­ç”»åœˆçš„ä½ç½®çš„ "),a("code",[t._v("A")]),t._v(", æ­£ç¡®çš„è‹±è¯­è¯­æ³•æ˜¯ "),a("code",[t._v("AN")]),t._v(", ä¸è¿‡è¿™ç¯‡æ•™ç¨‹ç»Ÿä¸€ç”¨ "),a("code",[t._v("A")]),t._v(", å’Œä¸‹é¢çš„")]),t._v(" "),a("div",{pre:!0},[a("p",[t._v("${{ secrets.THIS_IS_A_EXAMPLE }}")])]),a("p",[t._v("ä¹Ÿå¾—ä¸€è‡´!")]),t._v(" "),a("p",[a("s",[t._v("è‹±è¯­å¥½çš„æœ‹å‹åˆ«å˜²è®½åœ¨ä¸‹ ğŸ˜µ")])]),t._v(" "),a("p",[t._v("å†åœ¨ "),a("code",[t._v("actions")]),t._v(" é‡Œç”¨")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("${{ secrets.YOURKEY }}\n")])])]),a("p",[t._v("å»å–ï¼Œé€šè¿‡ "),a("code",[t._v("env")]),t._v(" å­˜å…¥æœåŠ¡å™¨çš„ç¯å¢ƒå˜é‡ã€‚å°±å¯ä»¥ç”¨å•¦ ğŸ‘»ã€‚")]),t._v(" "),a("p",[t._v("åšä¸ªå®éªŒã€‚"),a("code",[t._v("main.yaml")]),t._v(" é‡ŒåŠ ä¸Šè¿™æ ·ä¸€æ®µã€‚")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("div",{staticClass:"highlighted"},[t._v("Â ")]),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Pass Variables\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("env")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("EXAMPLE")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" secrets.THIS_IS_A_EXAMPLE "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("NOTEXIST")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" secrets.NOT_EXIST "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" echo 'try to show secret ğŸ˜‰' "),a("span",{pre:!0,attrs:{class:"token important"}},[t._v("&&")]),t._v(" echo $EXAMPLE "),a("span",{pre:!0,attrs:{class:"token important"}},[t._v("&&")]),t._v(" echo $NOT_EXIST\n")])])]),a("p",[t._v("è¾“å‡ºä¸‹å›¾è¿™æ ·çš„ç»“æœã€‚github æŠŠç»“æœåŠ å¯†äº†ï¼Œä¸è¿‡å¯ä»¥å‘ç°ï¼Œæœ‰è®¾ç½®çš„ "),a("code",[t._v("THIS_IS_A_EXAMPLE")]),t._v(" å’Œæ²¡æœ‰è®¾ç½®çš„ "),a("code",[t._v("NOT_EXIST")]),t._v("ï¼Œ"),a("code",[t._v("echo")]),t._v(" å‡ºæ¥æ˜¯ä¸ä¸€æ ·çš„ã€‚ç”±æ­¤å¯è§ï¼Œå·²ç»è®¾ç½®æˆåŠŸäº†ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/470919/e72b8478-89cb-6f45-f406-e6938f81e1c7.png",alt:"Screenshot 2020-03-23 13.11.39.png"}})]),t._v(" "),a("h3",{attrs:{id:"å®æ–½"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®æ–½"}},[t._v("#")]),t._v(" å®æ–½")]),t._v(" "),a("p",[t._v("ç›´æ¥è¯•è¯•å§ã€‚")]),t._v(" "),a("div",{staticClass:"language-yaml extra-class"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Build\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("env")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("VSSUEID")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" secrets.VSSUEID "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("VSSUESECRET")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" $"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" secrets.VSSUESECRET "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("run")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" npm install "),a("span",{pre:!0,attrs:{class:"token important"}},[t._v("&&")]),t._v(" npm run build\n")])])]),a("p",[t._v("åœ¨ "),a("code",[t._v("npm run build")]),t._v(" ä¹‹å‰åŠ ä¸Šç¯å¢ƒå‚æ•°é‚£ä¸€æ®µã€‚")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("  vssueConfig"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    platform"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'github'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    owner"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xyyolab'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    repo"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'blog'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    clientId"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VSSUEID")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    clientSecret"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VSSUESECRET")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("å†åœ¨ "),a("code",[t._v("config")]),t._v(" å†…ç”¨ node çš„è¯­æ³•å»ç¯å¢ƒå‚æ•°å–å°± OK å•¦ï¼")]),t._v(" "),a("p",[t._v("ç»“æœæ˜¯è¯„è®ºåŠŸèƒ½å¯ä»¥ä½¿ç”¨äº†å‘€ ğŸ˜ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/470919/0a508150-59e8-948c-4601-b57012db2ed6.png",alt:"Screenshot 2020-03-23 13.36.35.png"}})]),t._v(" "),a("ul",[a("li",[t._v("å®Œæ•´çš„ "),a("code",[t._v("main.yaml")]),t._v(" è¯·å‚è€ƒæˆ‘çš„ "),a("a",{attrs:{href:"https://github.com/xyyolab/blog/blob/master/.github/workflows/main.yml",target:"_blank",rel:"noopener noreferrer"}},[t._v("Github"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("çœ‹èµ·æ¥ä¸€ä¸ªå°æ­¥éª¤ä½†è§£å†³äº†å¤§é—®é¢˜å‘¢ ğŸ’ƒã€‚")]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"title"}),a("p",[t._v("æœ¬æ–‡ä½œè€… "),a("a",{attrs:{href:"https://github.com/xyyolab",target:"_blank",rel:"noopener noreferrer"}},[t._v("xyh ğŸ¸"),a("OutboundLink")],1),t._v("ï¼Œåšå®¢ "),a("a",{attrs:{href:"https://blog.xyyolab.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("xyh ğŸ¸"),a("OutboundLink")],1),t._v("ã€‚")])])])}),[],!1,null,null,null);s.default=n.exports}}]);